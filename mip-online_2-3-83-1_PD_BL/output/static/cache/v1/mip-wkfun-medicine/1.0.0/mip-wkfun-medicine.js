define("mip-wkfun-medicine/mip-wkfun-medicine",["require","zepto","customElement"],function(t){function e(t){c.ajax({url:"http://3g.yao.xywy.com/goods/getpharmacy.htm",data:{uuidProduct:t},dataType:"jsonp",jsonpCallback:"returnMsg",success:function(e){if(1===e.code){var i=c("ul.p-tip li").eq(1),n=i.children("a");n.removeAttr("tjhref"),n.removeAttr("onclick"),n.attr("href","http://3g.yao.xywy.com/goods/dispatchorder/id/"+t+".htm"),n.html('<span class="sprite-icon1"></span>极速送药')}}})}function i(t,e,i){if(!arguments[1])e=300;if(!arguments[2])i=0;c("body").append('<section id="showMessage" style="width: 100%;position: fixed;top:'+e+"px;left: "+i+'px;z-index:300;><div style=”display:-webkit-box;-webkit-box-orient: horizontal;-webkit-box-pack: center;display: -moz-box;-moz-box-orient: horizontal;-moz-box-pack: center;display: -o-box;-o-box-orient: horizontal;-o-box-pack: center;display: -ms-box;-ms-box-orient: horizontal;-ms-box-pack: center;display: box;box-orient: horizontal;box-pack: center;width:100%;><div  style="background: rgba( 0 , 0 , 0 ,.8);  color: #fff;  padding: 0 10px;height: 30px;  line-height: 30px;  border-radius: 5px;  box-shadow: 0 1px 0 1px rgba(0,0,0,.2);text-align: center;  font-size: 14px;">'+t+"</div></div></section>"),c("#showMessage").show(),setTimeout(function(){c("#showMessage").hide(),c("#showMessage").remove()},2e3)}function n(){c(".js-tab span").on("click",function(){var t=c(this).index();if(!c(this).hasClass("current")){c(this).addClass("current").siblings().removeClass("current"),c(".js-jg-tab span").eq(t).addClass("cur").siblings().removeClass("cur");var e=c(this).data("policyid"),i=c(this).data("policyprice"),n=c(this).data("policyname");c("#policy_id").val(e),c("#policy_price").val(i),c("#policy_name").val(n)}});var t=c(".js-num-text").val(),e=parseInt(t,10);if(e>1)c(".js-num-minus").removeClass("disabled");if(999===e)c(".tips").show(),c(".js-num-plus").addClass("disabled");if(e>999)return void c(".js-num-plus").addClass("disabled");else return c(".js-num-plus").on("click",function(){var t=c(this),i=c(".js-num-minus"),n=c(".js-num-text");if(e=parseInt(n.val(),10),1===e)i.removeClass("disabled");if(e<=998)n.val(e+1);if(998===e)t.addClass("disabled");c("#num-text").val(e+1)}),c(".js-num-text").on("blur",function(){var t=c(this).val();if(e=parseInt(t,10),c("#num-text").val(e),isNaN(t)||""===t)c(".js-num-text").val("1"),c("#num-text").val(1);if(e<1)c(".js-num-text").val("1"),c("#num-text").val(1);if(e>999)c(".tips").show(),c(".js-num-text").val("1"),c("#num-text").val(1)}),void c(".js-num-minus").on("click",function(){var t=c(this),e=c(".js-num-plus"),i=c(".js-num-text"),n=parseInt(i.val(),10);if(999===n)e.removeClass("disabled");if(n>=2)i.val(n-1);if(2===n)t.addClass("disabled");c("#num-text").val(n-1)})}function o(t,e){if(""!==t)c.ajax({type:"POST",url:"http://3g.yao.xywy.com/index.php?s=UserOrderManage/deletell",data:{id:t,userid:e},dataType:"json",success:function(t){window.location.href="http://3g.yao.xywy.com/index.php?s=OrderCfxq/user_address"}})}function r(t){if(""!==t)c.ajax({type:"POST",url:"http://3g.yao.xywy.com/index.php?s=UserOrderManage/mrdz",data:{id:t},dataType:"json",success:function(t){window.location.href="http://3g.yao.xywy.com/index.php?s=OrderCfxq/index"}})}function s(){c(".cart-wrapper").each(function(){c(this).on("swipeleft",function(){c(this).addClass("selected").parents(".cart-order-item").siblings().find(".cart-wrapper").removeClass("selected")}),c(this).on("swiperight",function(){c(this).removeClass("selected")})})}function a(t){var e=t.find("a").attr("href"),i=t.find(".cost-name").text(),n=t.find(".cost-num").text(),o="";if(e&&i&&n)o+='<div class="shop-area dis-box">',o+='<p class="box-flex-1">'+i+"</p>",o+='<a href="'+e+'">',o+="<span></span><span>"+n+"</span><span></span></a></div>",c("#minprice").append(o),c("#minprice").removeClass("none")}function l(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);if(null!==i)return unescape(i[2]);else return null}var c=t("zepto"),u=t("customElement").create();c("#menuShow").on("click",function(){var t=c(document).height(),e=c(".site-navigation").height(),i=c('<div id="menuMask" class="mask-layer" style="height:'+t+'px;"></div>');c("body").append(i),c(".mask").animate({translate3D:"0, 0, 0"},200),c("#menuMask").on("click",function(){c(this).remove(),c(".mask").animate({translate3D:"0,"+-e+"px, 0"},200)}),c(".mask-close").on("click",function(){c("#menuMask").trigger("click")}),c(".site-navigation a").on("click",function(t){t.preventDefault(),c("#menuMask").remove(),c(".mask").animate({translate3D:"0,"+-e+"px, 0"},0),location.href=c(this).attr("href")})}),c(".js-demand-btn").on("click",function(){c(".opicty-bj").show(),c(".demand-pop-box").removeClass("none"),c(".ad-box").css("bottom","272px"),c("html").css("overflow","hidden")}),c(".opicty-bj,.js-close").on("click",function(){c(".opicty-bj").hide(),c(".demand-pop-box").addClass("none"),c(".ad-box").css("bottom","100px"),c("html").css("overflow","auto")}),n();var d=/^[\u4e00-\u9fa5]{1,30}$/,p=/^13[0-9]{9}$|15[0-9]{9}$|18[0-9]{9}$|14[579][0-9]{8}$|17[0678][0-9]{8}$/,f=/^[1-9]\d{5}(?!\d)/,h=/^[\u4E00-\u9FA5A-Za-z0-9]+$/;c("#siteForm").on("submit",function(){var t=c.trim(c(".js-u-name").val()),e=c.trim(c(".js-u-phone").val()),n=c.trim(c("#value1").val()),o=c.trim(c(".js-u-sitexq").val()),r=c.trim(c(".js-postcode").val()),s=c("#value1").val(),a=[];a=s.split(",");var l=a.length;if(""===t&&!d.test(t))return i("请输入收货人"),!1;if(""===e)return i("请输入手机号码"),!1;else if(!p.test(e))return i("请输入正确的手机号码"),!1;if(""===n)return i("请选择所在地区"),!1;if(""===o)return i("详细地址不能为空"),!1;else if(!h.test(o))return i("请输入正确的详细地址"),!1;if(!f.test(r))return i("请输入正确的邮政编码"),!1;if(l<3)c("#province").val(a[0]),c("#city").val(a[0]),c("#county").val(a[1]);else c("#province").val(a[0]),c("#city").val(a[1]),c("#county").val(a[2])}),c(".m-manage-site li .lf-wrapper").on("click",function(){if(!c(this).parents("li").hasClass("cur")){c(this).parents("li").addClass("cur").siblings().removeClass("cur"),c(this).find(".Mrsite").removeClass("none"),c(this).parents("li").siblings().find(".Mrsite").addClass("none");var t=c(this).parents("li").find(".address_id").val();c(this).parents("li").find(".user_id").val();r(t)}});parseInt(c(".rg-wrapper").eq(0).css("width"),10);c(".site-wrapper").each(function(){c(this).on("swipeleft",function(){c(this).addClass("selected").parents("li").siblings().find(".site-wrapper").removeClass("selected");var t=c(this).height();c(this).find(".rg-wrapper").css({height:t+"px","line-height":t+"px"})}),c(this).on("swiperight",function(){c(this).removeClass("selected");var t=c(this).height();c(this).find(".rg-wrapper").css({height:t+"px","line-height":t+"px"})})}),c(".del-site").each(function(){c(this).on("click",function(){if(confirm("你确定要删除吗？")){var t=c(this).parents("li").find(".address_id").val(),e=c(this).parents("li").find(".user_id").val();return c(this).parents("li").remove(),void o(t,e)}})}),s(),c(document).on("click",".js-edit",function(t){var e=(c(t.target),c(this).parents(".cart-order-item").find(".cart-wrapper"));if(e.hasClass("selected"))e.removeClass("selected");c(this).parents(".cart-order-item").find(".cart-wrapper").off("swipeleft"),c(this).parents(".cart-order-item").find(".cart-wrapper").off("swiperight"),c(this).parents(".cart-order-item").find(".cart-order-info").addClass("none"),c(this).parents(".cart-order-item").find(".cart-edit-box").removeClass("none"),c(this).addClass("none"),c(this).siblings(".js-ok").removeClass("none")}),c(document).on("click",".js-ok",function(t){c(t.target);c(".cart-wrapper").on("swiperleft",s),c(".cart-wrapper").on("swiperight",s),c(this).parents(".cart-order-item").find(".cart-edit-box").addClass("none"),c(this).parents(".cart-order-item").find(".cart-order-info").removeClass("none"),c(this).addClass("none"),c(this).siblings(".js-edit").removeClass("none")}),c(".demand-pop-btn").on("click",function(){if(c(".js-tab span").hasClass("current")){var t=c(".js-tab .current").data("policyid"),e=c(".js-tab .current").data("policyname"),i=c(".js-tab .current").data("policyprice");c("#policy_id").val(t),c("#policy_name").val(e),c("#policy_price").val(i)}});var m="click",g=c("#productId").val(),v=0;c.ajax({type:"GET",url:"http://a2.wksc.xywy.com/api/rpm/method/3g/",data:{keyword:g},dataType:"jsonp",jsonp:"callback",success:function(t){c(".p-bj-load").remove();var e=t.standard.list,i=t.spackings,n=t.standard.total;if(i)v=i.length;if(0===n){var o='<div class="tc mt10 mb10" style="color:#ff014f;">暂无报价</div>';return void c("#cpcBox").append(o)}var o='<div class="bzlist pr"><p class="list-t"><a class="check-more box-flex-1 bt"href="javascript:;">选择包装：<span class="list-t-text">'+i[0].name+'</span><span class="list-btn"></span></a></p><div id="wrapper" class="wrapper-box pa none"><div id="scroller"><ul>';if(c.each(i,function(t,e){if(0===t)o+='<li class="check-on" uuidbox="'+e.uuidBox+'">'+e.name+"<span></span></li>";else o+='<li uuidbox="'+e.uuidBox+'">'+e.name+"<span></span></li>"}),o+="</ul></div></div></div>",o+='<div class="cost-list"><ul>',c.each(e,function(t,e){if(t>=5)o+='<li top-price="'+e.top_price+'" class="none">                    <a class="dis-box" href="'+e.href+'">                    <p class="box-flex-1 cost-name">'+e.store_name+'</p><p class="pr10">                    <b class="cost-num"><em>￥</em>'+e.shop_price+'</b>                    <span class="cost-icon"><b></b></span></p></a></li>';else o+='<li top-price="'+e.top_price+'">                    <a class="dis-box" href="'+e.href+'">                    <p class="box-flex-1 cost-name">'+e.store_name+'</p><p class="pr10">                    <b class="cost-num"><em>￥</em>'+e.shop_price+'</b><span class="cost-icon"><b></b></span></p>                    </a></li>'}),o+="</ul>",n>5)o+='<a class="check-more-num border-b" href="javascript:;">更多报价...</a>';o+="</div>",c("#cpcBox").append(o);var r=!0;if(c(".cost-list ul li").each(function(){var t=c(this).attr("top-price");if(1===t)return r=!1,a(c(this)),!1}),r){var s=c(".cost-list ul li:last-child");a(s)}}});var b=c(".area-fix").scrollTop(),y=1;c(window).scroll(function(){var t=document.documentElement.scrollTop||document.body.scrollTop;if(t>b){if(y)y=0,c(".area-fix").wrap('<mip-fixed type="top">')}else y=1,c(".area-fix").unwrap('<mip-fixed type="top">')});var w=!0;c("#cpcBox").on(m,".check-more-num",function(){if(w){w=!1;var t=c(this).prev(),e=c(this);e.html("加载中..."),setTimeout(function(){e.remove(),t.find("li").removeClass("none"),w=!0},400)}});var _=function(t,e,i){var n=document.createElement("script");if(n.type="text/javascript",n.src=e,c(t).append(n),"function"!=typeof i)return!1;else n.onload=function(){i()}},x=null,k=!0;if(c("#cpcBox").on(m,".wrapper-box li",function(){if(k){k=!1,clearTimeout(x);var t=c(this),e=t.text(),i=t.attr("uuidBox");if(t.closest(".wrapper-box").prev().find(".list-t-text").text(e),x=setTimeout(function(){t.closest(".wrapper-box").hide()},500),!t.hasClass("check-on"))t.addClass("check-on").siblings().removeClass("check-on"),c.ajax({type:"GET",url:"http://a2.wksc.xywy.com/api/rpm/method/3g/",data:{uuidBox:i,keyword:g},dataType:"jsonp",jsonp:"callback",async:!1,timeout:5e3,beforeSend:function(){var t='<div class="p-bj-load"><div style="width:32px;height:32px;margin:15px auto;"><mip-img src="http://i13.wkimg.com/yao/loading.gif"></mip-img></div><div class="tc mb15">报价正在加载中...</div></div>';c(".cost-list").remove(),c("#cpcBox").append(t)},success:function(t){var e=t.list.length,i='<div class="cost-list"><ul>';if(c.each(t.list,function(t,e){if(t>=5)i+='<li class="none">                        <a class="dis-box" href="'+e.href+'">                        <p class="box-flex-1 cost-name">'+e.store_name+'</p><p class="pr10">                        <b class="cost-num"><em>￥</em>'+e.shop_price+'</b>                        <span class="cost-icon"><b></b></span></p></a></li>';else i+='<li><a class="dis-box" href="'+e.href+'">                         <p class="box-flex-1 cost-name">'+e.store_name+'</p><p class="pr10">                         <b class="cost-num"><em>￥</em>'+e.shop_price+'</b>                         <span class="cost-icon"><b></b></span></p></a></li>'}),i+="</ul>",e>5)i+='<a class="check-more-num border-b" href="javascript:;">更多报价...</a>';i+="</div>",c(".p-bj-load").remove(),c("#cpcBox").append(i),k=!0},error:function(){k=!0}})}}),c("#loopFocus").on(m,function(){var t=c(document).height(),e='<div id="pBigMask" class="mask-layer" style="height:'+t+'px;"></div>';c("body").append(e),c("#pBigShow").css({width:"100%",height:t+"px"})}),c("#pBigShow").on(m,function(){c("#pBigMask").remove(),c(this).css({width:"0px",height:"0px"})}),c("#dwon").click(function(){c(".introCon").hide(),c(".fullCon").show(),c(this).hide().siblings().show()}),c("#up").click(function(){c(".fullCon").hide(),c(".introCon").show(),c(this).hide().siblings().show()}),c("#submit_baidu").click(function(){var t=c("#keyword_bo").val(),e="http://m.baidu.com/s?word="+t;location.href=e}),c("#keyword_bo").on("focus",function(){var t=c(this).val();if("请输入药品、疾病、症状名称"===t)c(this).val("")}).on("blur",function(){var t=c(this).val();if(""===t)c(this).val("请输入药品、疾病、症状名称")}),l("lon")&&l("lat")){var j=l("lon"),T=l("lat");c.ajax({type:"get",url:"http://a2.wksc.xywy.com/StoreVirtuallocation/getStoreVirtual/lng/"+j+"/lat/"+T+"/dis/0.01",dataType:"jsonp",success:function(t){}})}return u.prototype.build=function(){var t=this.element,i=c(t).attr("productId");this.addEventAction("click",function(t,e){c(t).attr("href",e)}),e(i),_(t,"https://scs.static.xywy.com/tools/iscroll.js",function(){function t(){e=new iScroll("wrapper",{scrollbarClass:"myScrollbar"})}var e;c("#cpcBox").on(m,".check-more",function(){var i=c(".wrapper-box").css("display");if("none"===i)c(".wrapper-box").show();else c(".wrapper-box").hide();if(v>4)e=new iScroll("wrapper",{scrollbarClass:"myScrollbar"}),document.addEventListener("DOMContentLoaded",t,!1),v=0})}),_(t,"https://scs.static.xywy.com/tools/TouchSlide.1.1.js",function(){if(1!==c(".loopFocus ul li").length)TouchSlide({slideCell:"#loopFocus",titCell:".hd ul",mainCell:".bd ul",effect:"leftLoop",autoPage:!0,autoPlay:!1}),TouchSlide({slideCell:"#loopFocus1",titCell:".hd ul",mainCell:".bd ul",effect:"leftLoop",autoPage:!0,autoPlay:!1});if(TouchSlide({slideCell:"#picScroll",titCell:".hd ul",autoPage:!0,pnLoop:"false"}),1===c("#picScroll .bd ul").length)c("#picScroll .hd").hide();c("#picScroll").find(".tempWrap").addClass("tempWrapClass")})},u}),define("mip-wkfun-medicine",["mip-wkfun-medicine/mip-wkfun-medicine"],function(t){return t}),function(){function t(t,e){t.registerMipElement("mip-wkfun-medicine",e)}if(window.MIP)require(["mip-wkfun-medicine"],function(e){t(window.MIP,e)});else require(["mip","mip-wkfun-medicine"],t)}();