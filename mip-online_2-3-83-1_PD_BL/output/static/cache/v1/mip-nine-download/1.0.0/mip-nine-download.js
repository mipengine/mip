define("mip-nine-download/mip-nine-download",["require","zepto","viewport","util","customElement"],function(t){var e=t("zepto"),i=t("viewport"),n=t("util"),o=n.platform,r=t("customElement").create(),s={webInfoId:e(".down-href").attr("downid"),webInfoCid:e(".down-href").attr("cid"),webInfoRid:e(".down-href").attr("rid"),platAndroidId:e(".plat_Android").attr("platid"),platAndroidAddress:e(".plat_Android").attr("Address"),platAndroidResSystem:e(".plat_Android").attr("ResSystem"),platAndroidResName:e(".plat_Android").attr("ResName"),platAndroidResVer:e(".plat_Android").attr("ResVer"),platAndroidCid:e(".plat_Android").attr("cid"),platAndroidRid:e(".plat_Android").attr("rid"),platIPhoneId:e(".plat_iPhone").attr("platid"),platIPhoneAddress:e(".plat_iPhone").attr("Address"),platIPhoneResSystem:e(".plat_iPhone").attr("ResSystem"),platIPhoneResName:e(".plat_iPhone").attr("ResName"),platIPhoneResVer:e(".plat_iPhone").attr("ResVer"),platIPhoneCid:e(".plat_iPhone").attr("cid"),platIPhoneRid:e(".plat_iPhone").attr("rid"),assid:parseInt(e(".info .Associate").html(),10),scrollNav:function(){var t=e(".tabNav").offset().top;i.on("scroll",function(){i.getScrollTop()>=t?e(".tabNav").addClass("fix"):e(".tabNav").removeClass("fix")})},downHref:function(){if(o.isAndroid()&&"undefined"!=typeof this.platAndroidAddress){if(this.platAndroidAddress.indexOf("http:")>=0||this.platAndroidAddress.indexOf("ftp:")>=0||this.platAndroidAddress.indexOf("https:")>=0)e(".game-detail-main .bxz").attr("href",this.platAndroidAddress);else e(".game-detail-main .bxz").attr("href","http://m.9ht.com/down.asp?id="+this.platAndroidId);e(".game-detail-main h1").html(this.platAndroidResName)}else if(o.isIos()&&"undefined"!=typeof this.platIPhoneAddress){if(this.platIPhoneAddress.indexOf("http:")>=0||this.platIPhoneAddress.indexOf("ftp:")>=0||this.platIPhoneAddress.indexOf("https:")>=0)e(".game-detail-main .bxz").attr("href",this.platIPhoneAddress);else e(".game-detail-main .bxz").attr("href","http://m.9ht.com/down.asp?id="+this.platIPhoneId);e(".game-detail-main h1").html(this.platIPhoneResName)}},titTab:function(){e(".tabNav span").on("click",function(){if(e(".fix").length>0)e(".tabNav.fix").removeClass("fix"),i.setScrollTop(e(".tabNav").offset().top);if(e(this).addClass("active").siblings().removeClass("active"),"详情"===e(this).text())e(".game-focus,.tagsk,.intro-main,.tcsyy,.xgxz,.xg-news,.tags-wrap,.comment").show();else if("评论"===e(this).text())e(".comment").show(),e(".game-focus,.tagsk,.intro-main,.tcsyy,.xgxz,.xg-news,.tags-wrap").hide();else if("相关"===e(this).text())e(".game-focus,.tagsk,.intro-main").hide(),e(".tcsyy,.xgxz,.xg-news,.tags-wrap,.comment").show()})},touchSlide:function(){function t(t){if("left"===t)c>=o.length-1?c===o.length-1:c++,n.animate({"-webkit-transform":"translate3d("+-a*c+"px, 0px, 0px)"});else if("reset"===t)n.animate({"-webkit-transform":"translate3d("+-a*c+"px, 0px, 0px)"});else if("right"===t)c<=0?c=0:c--,n.animate({"-webkit-transform":"translate3d("+-a*c+"px, 0px, 0px)"});e(".pagenum span").eq(c).addClass("active").siblings().removeClass("active"),e(".tags-tab ul li").eq(c).addClass("active").siblings().removeClass("active")}var i=e(".guess");if(0!==i.length){var n=i.find(".tags-main-ul"),o=n.find(".tags-main-box"),r=e(".tags-tab ul li"),s='<span class="active"></span>',a=parseInt(e(window).width()-16,10),l={s:[],d:""},c=0;o.width(a),e(".tags-main").width(a);for(var u=1;u<o.length;u++)s+="<span></span>";e(".pagenum").html(s),n.width(o.length*o.width()),r.eq(0).addClass("active"),r.click(function(){var t=e(this).index();c=t,r.eq(t).addClass("active").siblings().removeClass("active"),n.css({"-webkit-transform":"translate3d("+-a*t+"px, 0px, 0px)"})}),n[0].addEventListener("touchstart",function(t){l.s[0]=t.targetTouches[0].pageX,l.s[1]=t.targetTouches[0].pageY,l.s[2]=(new Date).getTime()},!1),n[0].addEventListener("touchmove",function(t){if(Math.abs(t.targetTouches[0].pageX-l.s[0])>=Math.abs(t.targetTouches[0].pageY-l.s[1])&&""===l.d)l.d=1;else if(""===l.d)l.d=0;if(1===l.d)t.preventDefault(),n.css({"-webkit-transform":"translate3d("+-(a*c-t.targetTouches[0].pageX+l.s[0])+"px, 0px, 0px)"})},!1),n[0].addEventListener("touchend",function(e){if(1===l.d)if((new Date).getTime()-l.s[2]>700)if(e.changedTouches[0].pageX-l.s[0]>a/3)t("right");else if(l.s[0]-e.changedTouches[0].pageX>a/3)t("left");else t("reset");else if(e.changedTouches[0].pageX>l.s[0])t("right");else if(l.s[0]>e.changedTouches[0].pageX)t("left");l.d=""},!1)}},init:function(){this.scrollNav(),this.titTab(),this.downHref(),this.touchSlide()}};return r.prototype.createdCallback=function(){s.init()},r}),define("mip-nine-download",["mip-nine-download/mip-nine-download"],function(t){return t}),function(){function t(t,e){t.registerMipElement("mip-nine-download",e)}if(window.MIP)require(["mip-nine-download"],function(e){t(window.MIP,e)});else require(["mip","mip-nine-download"],t)}();