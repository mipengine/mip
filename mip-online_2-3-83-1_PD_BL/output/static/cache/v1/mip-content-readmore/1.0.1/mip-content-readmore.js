define("mip-content-readmore/mip-content-readmore",["require","customElement"],function(t){function e(t){var e="";if(t.length<1)return"";else return e=t.replace(/&/g,"&"),e=e.replace(/</g,"<"),e=e.replace(/>/g,">"),e=e.replace(/ /g," "),e=e.replace(/'/g,"'"),e=e.replace(/"/g,'"')}var i=function(t){var e="querySelectorAll";if(0===t.indexOf("#"))e="getElementById",t=t.substr(1,t.length);else if(0===t.indexOf("."))e="getElementsByClassName",t=t.substr(1,t.length);return document[e](t)},n=t("customElement").create();return n.prototype.createdCallback=function(){var t=this.element,n=t.getAttribute("maxlen"),r=t.getAttribute("buttitle"),o=t.getAttribute("element");n=n?n:666,r=r?r:"查看更多",o=o?i(o)[0]:i(".content")[0];var s=e(o.innerHTML);s=s.replace(/<img .*?>/,"");for(var a,l=s.length,u=!1,c=0,d=0;;d++){if(c>=n){c=d;break}if(d>=l){c=l;break}if(a=s.charAt(d),"<"!==a||u){if(">"===a&&u){u=!1;continue}else if(u||""===a||" "===a||"\r"===a||"\n"===a)continue;c++}else u=!0}if(void 0!==s&&l>c){t.innerHTML='<div class="mip-content-readmore"><em><code class="mip-readmore-fx"></code></em><span>'+r+"</span></div>",o.innerHTML=s.substring(0,c)+" ......";var f=i(".mip-content-readmore");f[f.length-1].addEventListener("click",function(){o.innerHTML=s,t.innerHTML=""},!1)}},n}),define("mip-content-readmore",["mip-content-readmore/mip-content-readmore"],function(t){return t}),function(){function t(t,e){t.registerMipElement("mip-content-readmore",e,'.mip-content-readmore{text-align:center;height:30px;width:94px;margin:auto;margin-bottom:10px;cursor:pointer;display:block}.mip-content-readmore em{display:inline-block;height:20px;width:20px;top:3px;background:#3c91c7;border-radius:50px;margin-right:5px;margin-top:6px;position:relative}.mip-content-readmore span{display:inline-block;font-size:17px;color:#2184c4}.mip-content-readmore .mip-readmore-fx:after,.mip-content-readmore .mip-readmore-fx:before{width:0;height:0;border:.45rem solid transparent;border-top:.45rem solid #3c91c7;display:inline-block;position:absolute;top:.3rem;left:.2rem;content:""}.mip-content-readmore .mip-readmore-fx:before{border-top-color:#fff;top:.45rem}')}if(window.MIP)require(["mip-content-readmore"],function(e){t(window.MIP,e)});else require(["mip","mip-content-readmore"],t)}();