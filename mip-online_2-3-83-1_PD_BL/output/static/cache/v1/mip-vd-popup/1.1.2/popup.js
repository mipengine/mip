define("mip-vd-popup/popup",[],function(){var t=function(t){var e=this;e.options=$.extend({title:"",content:"",fullView:!1,duration:400,customClassName:"",onOpen:function(){},onClose:function(){}},t),e._init()};return t.prototype={constructor:t,version:"0.0.1",_init:function(){var t=this;t._preparePopupWrapper(),t.popup()},_preparePopupWrapper:function(){var t=this,e=$(".mip-vd-popup-wrapper");if(e.length)t.$popupFrame=e,t.$popupFrame.empty();else t.$popupFrame=$('<div class="mip-vd-popup-wrapper"></div>'),$(document.body).append(t.$popupFrame)},_stopScroll:function(){var t=this;t.$popupFrame.on("touchmove",function(t){t.preventDefault()})},_bindEvent:function(){var t=this;t.$popupFrame.on("click",".mip-vd-popup-mask,.mip-vd-popup-remove",function(){t.closePopup()})},_randerContent:function(){var t=this;if(t.$popupMask=$('<div class="mip-vd-popup-mask"></div>'),t.$popupModal=$('<div class="mip-vd-popup-modal"></div>'),t.$popupContent=$('<div class="mip-vd-popup-content"></div>'),t.$popupHead=$('<div class="mip-vd-popup-head"></div>'),t.options.title){var e=$('<div class="mip-vd-popup-title"></div>');e.append(t.options.title),t.$popupHead.append(e)}var i=$('<div class="mip-vd-popup-remove"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqBAMAAAA37dRoAAAAElBMVEUAAABmZmZmZmZmZmZmZmZmZmYlNPltAAAABXRSTlMAnAFiY7dPC10AAACQSURBVCjPfdPdCYAgFIZhsQkKuq8m6KYRGiDK/Vep5MALL2IQfepD/nHSMCU/656Oa1Fnnu80l8m0XN8rnH+XhYMJhwJD+UIJpiQEEeDMOA2GwaI0oWDRwEGFt0qNx0qNS1BhUff6D93ZvLLuLrzj3un4JE2NfUPOYN+8EoIAEcVAwaahghq3q+VsVNbTrsIXTkQ1/j8utO4AAAAASUVORK5CYII="></div>');t.$popupHead.append(i),t.$popupContent.append(t.options.content),t.$popupModal.append(t.$popupHead).append(t.$popupContent).addClass(t.options.customClassName),t.$popupFrame.append(t.$popupModal).append(t.$popupMask)},popup:function(){var t=this,e=$(window).height();t._randerContent(),t._bindEvent(),t.$popupMask.show().animate({opacity:1},"fast","ease"),t.$popupModal.show();var i=t.$popupModal.height();if(t.options.fullView||i>e)t.$popupModal.height("100%");t.$popupModal.animate({"-webkit-transform":"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)"},t.options.duration,"ease",function(){$(this).css({"-webkit-transform":"none",transform:"none"}),t.options.onOpen()})},closePopup:function(){var t=this;t.$popupModal.animate({"-webkit-transform":"translate3d(0, 100%, 0)",transform:"translate3d(0, 100%, 0)"},t.options.duration,"ease",function(){$(this).css({"-webkit-transform":"none",transform:"none"}).hide(),t.options.onClose(),t._destroy()}),t.$popupMask.animate({opacity:0},"fast","ease",function(){$(this).hide()})},_destroy:function(){var t=this;t.$popupFrame.off("click",".mip-vd-popup-mask,.mip-vd-popup-remove"),t.$popupFrame.empty()}},t});