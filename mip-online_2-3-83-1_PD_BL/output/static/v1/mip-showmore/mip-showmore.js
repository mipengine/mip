define("mip-showmore/mip-showmore",["require","customElement","util"],function(t){var e=t("customElement").create(),i=t("util");return e.prototype.build=function(){function t(){var t=i.rect.getElementOffset(l).height;if(t>u){i.css(l,{height:u+"px",overflow:"hidden"});var e=s.querySelector(".mip-showmore-btnshow");i.css(e,{display:"block"}),a.addEventListener("click",function(){if(this.classList.contains("mip-showmore-boxshow"))this.classList.remove("mip-showmore-boxshow"),i.css(l,{height:u+"px"}),o({display:"block"},{display:"none"});else{this.classList.add("mip-showmore-boxshow"),i.css(l,{height:t+"px",transition:"height "+c+"s"});var e=1e3*c;setTimeout(function(){i.css(l,{transition:"height 0s",height:"auto"})},e),o({display:"none"},{display:"block"})}})}}function e(){var t,e=l.innerHTML;if(t=n(d),e.length!==t.length){var r=s.querySelector(".mip-showmore-btnshow");i.css(r,{display:"block"}),t="<p class='mip-showmore-abstract'>"+t+"...</p>",l.innerHTML=t,a.addEventListener("click",function(){if(this.classList.contains("mip-showmore-boxshow"))l.innerHTML=t,this.classList.remove("mip-showmore-boxshow"),o({display:"block"},{display:"none"});else l.innerHTML=e,this.classList.add("mip-showmore-boxshow"),o({display:"none"},{display:"block"})})}}function n(t){for(var e=l.childNodes,i="",n=0,o=[],r=0;r<e.length;r++){var s=e[r].textContent.replace(/(^\s*)|(\s*$)/g,"");if(i.length+s.length<=t)i+=s,n=i.length,o.push(e[r]);else{var a=t-n>0?t-n:n-t,c=s?s.slice(0,a):"";e[r].textContent=c,o.push(e[r]);break}}for(var u="",d=0;d<o.length;d++){var p=o[d].nodeType;if(1===p)u+=o[d].outerHTML;else if(3===p)u+=o[d].textContent}return u}function o(t,e){var i=s.querySelector(".mip-showmore-btnshow"),n=s.querySelector(".mip-showmore-btnhide");r(i,t),r(n,e)}function r(t,e){i.css(t,e)}var s=this.element,a=s.querySelector("[showmorebtn]"),l=s.querySelector("[showmorebox]"),c=s.getAttribute("animatetime")||0;if(!isNaN(c))if(a&&l){var u=s.getAttribute("maxheight"),d=s.getAttribute("maxlen");if(u&&!isNaN(u))t();else if(d&&!isNaN(d))e();else u=0,t();i.css(s,{visibility:"visible"})}},e}),define("mip-showmore",["mip-showmore/mip-showmore"],function(t){return t}),function(){function t(t,e){t.registerMipElement("mip-showmore",e,"mip-showmore{visibility:hidden}mip-showmore .mip-showmore-originalhtml,mip-showmore .mip-showmore-btnhide,mip-showmore .mip-showmore-btnshow{display:none}")}if(window.MIP)require(["mip-showmore"],function(e){t(window.MIP,e)});else require(["mip","mip-showmore"],t)}();