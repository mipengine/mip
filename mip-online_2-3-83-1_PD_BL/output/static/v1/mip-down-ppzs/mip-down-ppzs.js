define("mip-down-ppzs/mip-down-ppzs",["require","zepto","customElement"],function(t){function e(){function t(){var t=i("header").height()+90;i(window).scroll(function(){var e=i(".newBox");if(i(window).scrollTop()>=t)e.css({position:"fixed",top:0}).addClass("newBox-on");else e.css({position:"relative"}).removeClass("newBox-on")})}var e=0,n=i("#down-href").attr("platid");if(r.versions.android&&"Yes"!==localStorage.getItem("ppzs")&&"58"!==i("#plat_Android").attr("TypeID")){var s=!0,a="";if(n>0)e=n,a="http://server.m.pp.cn/download/apk/new?appId="+e+"&ch=default&ch_src=pm_pc6&channel=PM_5118";else a="https://server-m.pp.cn/download/apk/new?channel=PM_5118&ch=default&ch_src=pm_pc6&bs=1&durl="+encodeURI(i("#info #btns a").attr("href"));i("#info #btns").after('<div class="newBox"><div class="topBox"><div class="btn-checkbox"><em class="icon-check"></em>PP助手高速下载</div><a href="" class="pptvHref">高速下载</a></div><div class="normal"><div class="main"><em class="icon"></em><span></span></div></div></div>'),i("#info .normal span").html("PP助手是全面、专业的应用市场，将为您安装PP手机助手，启动高速引擎，安全无毒、极速下载应用！"),i("#info #btns").hide(),i(".newBox").show(),i(".newBox .pptvHref").attr("href",a),i(".btn-checkbox").click(function(){if(s)i(this).find("em").addClass("icon-active"),i(this).siblings("a").addClass("noBg").html("普通下载").attr("href",i("#info #btns a").attr("href")),i(this).parents().find(".normal").addClass("tipShow"),i("#info .normal span").html("使用普通下载无法避免流量劫持、下载较慢等问题，建议选择PP手机助手安全高速下载！");else i(this).find("em").removeClass("icon-active"),i(this).siblings("a").removeClass("noBg").html("高速下载").attr("href",a),i(this).parents().find(".normal").removeClass("tipShow"),i("#info .normal span").html("PP助手是全面、专业的应用市场，将为您安装PP手机助手，启动高速引擎，安全无毒、极速下载应用！");s=!s}),i(".newBox a").click(function(t){if(i(this).prop("href").indexOf("channel=PM_")>=0)return localStorage.setItem("ppzs","Yes"),i(this).html("高速下载中..."),o.checkPP(function(t){if(t===!0&&e>0)o.downloadFast(e,function(t){});else window.location.href=a}),!1})}if(i("#down-page .newBox").length>0)t()}var i=t("zepto"),n=t("customElement").create(),r={versions:function(){var t=navigator.userAgent;return{ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,ios9:t.indexOf("iPhone OS 9")>-1,MQQBrowser:t.indexOf("MQQBrowser")>-1,UCBrowser:t.indexOf("UCBrowser")>-1,Safari:t.indexOf("Safari")>-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()},o=function(){function t(e,n){i.ajax({type:"get",dataType:"text",timeout:a,data:{},url:r(e),complete:function(i,r){if(200===i.status)n(!0);else if(48333===e)t(48433,n);else n(!1)}})}function e(t,n,o){i.ajax({type:"post",dataType:"text",timeout:a,data:JSON.stringify({type:1,id:n}),url:r(t),complete:function(i,r){if(200===i.status)o(!0);else if(48333===t)e(48433,n,o);else o(!1)}})}function n(t,e,o){i.ajax({type:"post",dataType:"text",timeout:a,data:JSON.stringify({type:6,info:e}),url:r(t),complete:function(i,r){if(200===i.status)o(!0);else if(48333===t)n(48433,e,o);else o(!1)}})}function r(t){return"http://127.0.0.1:"+t}var o={},s=48333,a=500;return o.checkPP=function(e){t(s,e)},o.downloadFast=function(t,i){e(s,t,i)},o.doSomething=function(t,e){n(s,t,e)},o}();return n.prototype.build=function(){e()},n}),define("mip-down-ppzs",["mip-down-ppzs/mip-down-ppzs"],function(t){return t}),function(){function t(t,e){t.registerMipElement("mip-down-ppzs",e)}if(window.MIP)require(["mip-down-ppzs"],function(e){t(window.MIP,e)});else require(["mip","mip-down-ppzs"],t)}();