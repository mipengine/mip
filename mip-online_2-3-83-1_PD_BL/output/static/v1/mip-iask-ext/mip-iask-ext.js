define("mip-iask-ext/mip-iask-ext",["require","zepto","customElement"],function(t){var e=t("zepto"),i=t("customElement").create(),n={switchBlock:function(){e(".similar-nav").on("click","li",function(){event.preventDefault();try{e(this).siblings().removeClass("current"),e(this).addClass("current");var t=e(this).index(),i=e(".relative_kownlege").find(".tabs-con");e(i).hide(),e(i).slice(t,t+1).show()}catch(t){}})},changeMore:function(){e(".link-change").on("click",function(t){t.preventDefault();try{var i=5,n=e(this).parent().next().children(),r=e(this).attr("pagecount");if(!r)r=i;if(r>=n.length)r=0;var o=Number(r)+i;e(n).hide(),e(n).slice(r,o).show(),e(this).attr("pagecount",o)}catch(t){}})},kownlegMore:function(){e(".kownleg-change").on("click",function(t){t.preventDefault(),e("div.similar").find("div.show").removeClass("show").addClass("hide").appendTo(e("div.similar"));var i=1;e("div.similar").find("div.hide").each(function(){if(1===i)e(this).removeClass("hide").addClass("show");i++})})},openOrStop:function(){e(".os-click").on("click",function(t){t.preventDefault();try{var i=e(this);if("[展开]"===i.text())i.text("[收起]"),i.prev().show();else i.text("[展开]"),i.prev().hide()}catch(t){}})},reportChange:function(){e(".reportList li").on("click",function(){var t=e(this).find("span").attr("class");if("fakeChecked"===t)e(this).find("span").removeClass(),e(this).find("span").addClass("fakeCheck");else e(this).find("span").removeClass(),e(this).find("span").addClass("fakeChecked")})},clearReport:function(){e(".report-body").hide(),e(".report_id").text(""),e(".report_type").text(""),e(".report_typeId").text(""),e(".reportList li").each(function(){e(this).find("span").removeClass(),e(this).find("span").addClass("fakeCheck")})},cannelReport:function(){e(".cannelReport").on("click",function(){n.clearReport()})},okReport:function(){e(".okReport").click(function(){var t="";if(e(".reportList li").each(function(){var i=e(this).find("span").attr("class");if("fakeChecked"===i)t+=e(this).text().trim()+"-"}),""===t)alert("请选择举报原因！");else{var i="https://mipp.iask.cn/checkLogin?mip="+Math.random();e.get(i,function(i){if(null==i||"null"===i){var r=window.location.href;window.location.href="https://mipp.iask.cn/login?source="+r}else{var o=e(".report_id").text(),s=e(".report_type").text(),a=e(".report_typeId").text();e.post("http://m.iask.sina.com.cn/question/reportnew",{reportList:t,questionId:o,type:s,typeId:a},function(t){var i=e.parseJSON(t);alert(i.desc)}),n.clearReport()}})}})},btnSearch:function(){e(".btn-search").click(function(){var t=e(".search-input").val();if(t.trim().length<2)return void alert("关键字必须大于等于2个字!");else return void(window.location.href="http://m.iask.sina.com.cn/search/1.html?content="+t)})},btnSend:function(){try{e(".btn-send").click(function(){event.preventDefault();var t=e(".search-input").val();console.log(t),window.location.href="http://m.iask.sina.com.cn/ask?content="+t})}catch(t){}},checkLogin:function(){var t=e(".btn-user"),i=window.location.href,n="https://mipp.iask.cn/checkLogin?mip="+Math.random();e.get(n,function(n){if(null===n||"null"===n)e(".icon-ency-login").attr("href","https://mipp.iask.cn/login?source="+i),t.click(function(t){t.preventDefault(),t.stopPropagation(),e(".login-out").show()});else t.click(function(t){t.preventDefault(),t.stopPropagation(),e(".login-in").show()})})},userInfoHide:function(){e(document).click(function(t){e(".user-more").hide()}),e(".user-more").click(function(t){t.stopPropagation()})},sendPost:function(t,i,n,r,o,s){if(t=t+"?positionId="+i+"&advertId="+n+"&contentId="+o+"&connId="+s,null!==r)t+="&status=1";e("body").append("<mip-pix src='"+t+"' ></mip-pix>")},checkData:function(){e("mip-ad,mip-embed").each(function(){n.sendPost("https://mipu.iask.cn/ddd/adAudit","144","241",null,"195","m_q_detail_attention_1")}),setInterval(function(){e("mip-ad,mip-embed").each(function(){var t=e(this).attr("loadFlag");if(e(this).html().indexOf("iframe")>0&&void 0===t)e(this).attr("loadFlag",!0),n.sendPost("https://mipu.iask.cn/ddd/adStatus","144","241",1,"195","m_q_detail_attention_1")})},100)},accordion:function(){e(".iask-show-more").click(function(){e(this).parent().siblings(".iask-accordion").each(function(){e(this).show()}),e(this).hide(),e(this).siblings(".iask-show-less").show()}),e(".iask-show-less").click(function(){e(this).parent().siblings(".iask-accordion").each(function(){e(this).hide()}),e(this).hide(),e(this).siblings(".iask-show-more").show()})},guideData:function(){var t="https://mipp.iask.cn/t/mipdf?t=fous",i="https://mipp.iask.cn/t/mipdf?t=recom";try{e.ajax({type:"GET",url:t,dataType:"html",success:function(t){if(t)e(".load_today_focus").empty(),e(".load_today_focus").append(t)}}),e.ajax({type:"GET",url:i,dataType:"html",success:function(t){if(t)e(".load_recom_red").empty(),e(".load_recom_red").append(t)}})}catch(t){console.log(t)}},init:function(){this.switchBlock(),this.changeMore(),this.openOrStop(),this.reportChange(),this.cannelReport(),this.okReport(),this.btnSearch(),this.btnSend(),this.checkLogin(),this.userInfoHide(),this.accordion(),this.guideData(),this.kownlegMore()}};return i.prototype.build=function(){n.init()},i}),define("mip-iask-ext",["mip-iask-ext/mip-iask-ext"],function(t){return t}),function(){function t(t,e){t.registerMipElement("mip-iask-ext",e)}if(window.MIP)require(["mip-iask-ext"],function(e){t(window.MIP,e)});else require(["mip","mip-iask-ext"],t)}();